{"version":3,"file":"index.71d2847e8faf8a1163a3.js","mappings":"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","sources":["webpack://battleship/./src/css/style.css","webpack://battleship/./src/components/handleShip.js","webpack://battleship/./src/components/handleGameBoard.js","webpack://battleship/./src/components/handlePlayer.js","webpack://battleship/./src/components/handleGameController.js","webpack://battleship/./src/components/handleCommon.js","webpack://battleship/./src/components/handleStrategyPanel.js","webpack://battleship/./src/components/handleBattlePanel.js","webpack://battleship/./src/index.js","webpack://battleship/./src/img/battlefield/ships/ sync nonrecursive .\\/(","webpack://battleship/./src/img/strategyPanel/ships/ sync nonrecursive .\\/("],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","const SHIP_LIST = [\n    { name: \"Patrol Boat\", length: 2 },\n    { name: \"Submarine\", length: 3 },\n    { name: \"Destroyer\", length: 3 },\n    { name: \"Battleship\", length: 4 },\n    { name: \"Carrier\", length: 4 },\n];\n\nconst createShip = ({ name } = {}) => {\n    let ship = SHIP_LIST.find((item) => name === item.name);\n\n    if (!ship) return false;\n\n    return Object.assign(Object.create(setProto(ship)), {\n        name: ship.name,\n    });\n};\n\nconst setProto = (ship) => {\n    const length = ship.length;\n    let hits = 0;\n    let rotate = false;\n    let pos = [];\n    let centerPos = [];\n\n    const createShipAllPos = (name, [x, y], isShipRotate) => {\n        const shipPos = [[x, y]];\n\n        if (isShipRotate) {\n            if (name === \"Carrier\") {\n                shipPos.push([x, y - 2]);\n            }\n\n            if (name === \"Battleship\") {\n                shipPos.push([x, y + 2]);\n            }\n\n            if (name !== \"Patrol Boat\") {\n                shipPos.push([x, y - 1]);\n            }\n\n            shipPos.push([x, y + 1]);\n        } else {\n            if (name === \"Carrier\") {\n                shipPos.push([x + 2, y]);\n            }\n\n            if (name === \"Battleship\") {\n                shipPos.push([x - 2, y]);\n            }\n\n            if (name !== \"Patrol Boat\") {\n                shipPos.push([x + 1, y]);\n            }\n\n            shipPos.push([x - 1, y]);\n        }\n\n        return shipPos;\n    };\n\n    return {\n        increaseHit() {\n            return (hits += 1);\n        },\n        isSunk() {\n            return hits === length;\n        },\n        setPos(position, isShipRotate) {\n            if (position.length === 2) {\n                pos = createShipAllPos(this.name, position, isShipRotate);\n            } else {\n                pos = [];\n            }\n\n            return [...pos];\n        },\n        getPos() {\n            return [...pos];\n        },\n        getHealthyPercent() {\n            return (100 / length) * hits;\n        },\n        setRotate(value) {\n            return (rotate = value);\n        },\n        getRotate() {\n            return rotate;\n        },\n        setCenterPos(position) {\n            centerPos = position;\n            return [...centerPos];\n        },\n        getCenterPos() {\n            return [...centerPos];\n        },\n    };\n};\n\nexport { createShip, SHIP_LIST };\n","const createGameBoard = ({ size = 10 } = {}) => {\n    return Object.assign(Object.create(setProto(size)), { size });\n};\n\nconst setProto = (size) => {\n    let ships = [];\n\n    const getAdjacentPos = (pos) => {\n        const adjacentPos = [];\n\n        const posX = pos.map(([x]) => x);\n        const posY = pos.map(([, y]) => y);\n\n        const isRotate = posX.every((x) => x === posX[0]);\n\n        if (isRotate) {\n            const [maxPosY, minPosY] = [Math.max(...posY), Math.min(...posY)];\n\n            for (let y of posY) {\n                adjacentPos.push([posX[0] + 1, y]);\n                adjacentPos.push([posX[0] - 1, y]);\n            }\n\n            adjacentPos.push([posX[0] + 1, maxPosY + 1]);\n            adjacentPos.push([posX[0], maxPosY + 1]);\n            adjacentPos.push([posX[0] - 1, maxPosY + 1]);\n\n            adjacentPos.push([posX[0] + 1, minPosY - 1]);\n            adjacentPos.push([posX[0], minPosY - 1]);\n            adjacentPos.push([posX[0] - 1, minPosY - 1]);\n        } else {\n            const [maxPosX, minPosX] = [Math.max(...posX), Math.min(...posX)];\n\n            for (let x of posX) {\n                adjacentPos.push([x, posY[0] + 1]);\n                adjacentPos.push([x, posY[0] - 1]);\n            }\n\n            adjacentPos.push([maxPosX + 1, posY[0] + 1]);\n            adjacentPos.push([maxPosX + 1, posY[0]]);\n            adjacentPos.push([maxPosX + 1, posY[0] - 1]);\n\n            adjacentPos.push([minPosX - 1, posY[0] + 1]);\n            adjacentPos.push([minPosX - 1, posY[0]]);\n            adjacentPos.push([minPosX - 1, posY[0] - 1]);\n        }\n\n        return adjacentPos;\n    };\n\n    return {\n        addShip(ship) {\n            ships = [...ships, ship];\n            return ships;\n        },\n        getShip(name) {\n            return ships.find((ship) => ship.name === name) ?? false;\n        },\n        getAllShips() {\n            return [...ships];\n        },\n        isOutBounds(positions) {\n            for (let [x, y] of positions) {\n                if (x < 1 || y < 1 || x > size || y > size) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        isOverlapShip(positions, name) {\n            for (let ship of ships) {\n                if (name !== ship.name) {\n                    const allShipPos = [\n                        ...ship.getPos(),\n                        ...getAdjacentPos(ship.getPos()),\n                    ];\n                    const result = allShipPos.some(([x, y]) =>\n                        positions.some(([x2, y2]) => x === x2 && y === y2)\n                    );\n\n                    if (result) return true;\n                }\n            }\n\n            return false;\n        },\n        receiveAttack(attackedPos) {\n            const [x, y] = attackedPos;\n\n            const ship =\n                ships.find((ship) =>\n                    ship\n                        .getPos()\n                        .find(\n                            ([shipPosX, shipPosY]) =>\n                                shipPosX === x && shipPosY === y\n                        )\n                ) || false;\n\n            if (ship) {\n                ship.increaseHit();\n            }\n\n            return ship;\n        },\n        isAllShipsSunk() {\n            return ships.every((ship) => ship.isSunk());\n        },\n    };\n};\n\nexport { createGameBoard };\n","const createPlayer = (name, board) => {\n    return Object.assign(Object.create(setProto()), {\n        name,\n        board,\n    });\n};\n\nconst setProto = () => {\n    let attackedPos = [];\n\n    return {\n        attack(target, position) {\n            return target.board.receiveAttack(position);\n        },\n\n        addAttackedPos(position) {\n            attackedPos = [...attackedPos, position];\n            return attackedPos;\n        },\n        isDuplicateAttack(position) {\n            return attackedPos.some(\n                ([x, y]) => position[0] === x && position[1] === y\n            );\n        },\n    };\n};\n\nexport { createPlayer };\n","const gameController = (() => {\n    let players = {\n        firstPlayer: null,\n        secondPlayer: null,\n    };\n\n    let attacker = null;\n    let endGame = false;\n\n    return {\n        getFirstPlayer() {\n            return players.firstPlayer;\n        },\n        getSecondPlayer() {\n            return players.secondPlayer;\n        },\n        setFirstPlayerBoard(newPlayer) {\n            return (players.secondPlayer = newPlayer);\n        },\n        setSecondPlayer(newPlayer) {\n            return (players.secondPlayer = newPlayer);\n        },\n        setPlayers(firstPlayer, secondPlayer) {\n            players.firstPlayer = firstPlayer;\n            players.secondPlayer = secondPlayer;\n\n            return players;\n        },\n        setAttacker(player) {\n            return (attacker = player);\n        },\n        getAttacker() {\n            return attacker;\n        },\n        toggleGameState() {\n            return (endGame = !endGame);\n        },\n        isEndGame() {\n            return endGame;\n        },\n    };\n})();\n\nexport { gameController };\n","const common = (() => {\n    return {\n        createGrid() {\n            let column = 1;\n            let row = 10;\n\n            const container = document.createElement(\"div\");\n\n            container.className = \"container\";\n\n            for (let i = 1; i <= 100; i++) {\n                const div = document.createElement(\"div\");\n\n                div.dataset.x = column;\n                div.dataset.y = row;\n\n                column++;\n\n                if (i % 10 === 0) {\n                    column = 1;\n                    row -= 1;\n                }\n\n                container.append(div);\n            }\n\n            return container;\n        },\n        load(resolve) {\n            let obj = {};\n\n            for (let key of resolve.keys()) {\n                const keys = key.match(/(?<=\\.\\/).+?(?=_panel|\\.png$)/g)[0];\n                const url = resolve(key);\n                obj[keys] = url;\n            }\n            return obj;\n        },\n    };\n})();\n\nexport { common };\n","import { gameController } from \"./handleGameController\";\nimport { common } from \"./handleCommon\";\n\nconst strategyPanel = (() => {\n    // catch DOM\n    const strategyPanelElement = document.querySelector(\".strategyPanel\");\n    const shipsSource = require.context(\n        \"../img/strategyPanel/ships\",\n        false,\n        /.\\/(?=.+?_panel).+/\n    );\n    const shipsImage = common.load(shipsSource);\n    return {\n        shipsImage,\n        resetContainer() {\n            const container = strategyPanelElement.querySelector(\".container\");\n            container.replaceWith(common.createGrid());\n        },\n        resetShips() {\n            const silhouettes = Array.from(\n                strategyPanelElement.querySelectorAll(\".silhouette\")\n            );\n\n            for (let el of silhouettes) {\n                if (el.closest(\".ships\")) {\n                    const message = el.querySelector(\"span\");\n                    message.textContent = \"\";\n                    message.className = \"\";\n                    el.hidden = false;\n                } else {\n                    el.remove();\n                }\n            }\n        },\n        togglePositionColor(position) {\n            for (let [x, y] of position) {\n                const grid = strategyPanelElement.querySelector(\n                    `[data-x='${x}'][data-y='${y}']`\n                );\n\n                grid.classList.toggle(\"placed\");\n            }\n        },\n        cancelSelectedShip() {\n            const hasSelectedShip =\n                strategyPanelElement.querySelector(\".selected\") ?? false;\n            if (!hasSelectedShip) return;\n\n            hasSelectedShip.classList.remove(\"selected\");\n        },\n        disableRotateBtn() {\n            const rotateBtn =\n                strategyPanelElement.querySelector(\".rotateBtn\") ?? false;\n            if (!rotateBtn) return;\n\n            rotateBtn.disabled = true;\n        },\n        isAllShipsSet() {\n            const firstPlayer = gameController.getFirstPlayer();\n\n            const silhouettes = Array.from(\n                strategyPanelElement.querySelectorAll(\".silhouette\")\n            );\n\n            let allShipSet = true;\n\n            for (let el of silhouettes) {\n                const ship = firstPlayer.board.getShip(el.dataset.name);\n                const message = el.querySelector(\"span\");\n\n                if (!ship || ship.getPos().length === 0) {\n                    message.textContent =\n                        \"This ship has not set a position yet\";\n                    message.className = \"message\";\n                    allShipSet = false;\n                } else {\n                    message.textContent = \"\";\n                    message.className = \"\";\n                }\n            }\n\n            return allShipSet;\n        },\n    };\n})();\n\nexport { strategyPanel };\n","import { gameController } from \"./handleGameController\";\nimport { createShip, SHIP_LIST } from \"./handleShip\";\nimport { common } from \"./handleCommon\";\n\nconst battlePanel = (() => {\n    // catch DOM\n    const battlePanelElement = document.querySelector(\".battlePanel\");\n    const shipsSource = require.context(\n        \"../img/battlefield/ships\",\n        false,\n        /.\\/(?!\\w+?_state).+/\n    );\n    const shipsImg = common.load(shipsSource);\n\n    const randomInteger = (min, max) => {\n        return Math.floor(min + Math.random() * (max - min + 1));\n    };\n    return {\n        resetContainer() {\n            const fields = battlePanelElement.querySelectorAll(\".container\");\n            for (let el of fields) {\n                el.replaceWith(common.createGrid());\n            }\n        },\n        resetFleetState() {\n            const fleetStateImages =\n                battlePanelElement.querySelectorAll(\".fleetState img\");\n\n            for (let el of fleetStateImages) {\n                el.style = \"\";\n            }\n        },\n        setFieldName() {\n            const players = {\n                firstPlayer: gameController.getFirstPlayer(),\n                secondPlayer: gameController.getSecondPlayer(),\n            };\n\n            for (let player in players) {\n                const field = battlePanelElement.querySelector(\n                    `.field[data-player=\"${player}\"]`\n                );\n\n                field.dataset.owner = players[player].name;\n\n                field.querySelector(\".name\").textContent = players[player].name;\n            }\n        },\n        resetFieldActiveHover() {\n            const attacker = gameController.getAttacker();\n\n            const field =\n                battlePanelElement.querySelectorAll(`.field[data-player]`);\n\n            for (let el of field) {\n                if (el.dataset.owner !== attacker.name) {\n                    el.classList.add(\"activeHover\");\n                }\n            }\n        },\n        setShip() {\n            const firstPlayer = gameController.getFirstPlayer();\n\n            for (let ship of firstPlayer.board.getAllShips()) {\n                const name = ship.name;\n                const isRotate = ship.getRotate();\n                const [x, y] = ship.getCenterPos();\n                const src = shipsImg[name.toLowerCase()];\n\n                const grid = battlePanelElement.querySelector(\n                    `.field[data-owner=\"${firstPlayer.name}\"] div[data-x='${x}'][data-y='${y}']`\n                );\n\n                const template = `<div class=\"ship\" data-name=\"${name}\">\n                <img class=\"${isRotate ? \"rotateDown\" : \"\"}\"\n                    src=\"${src}\"\n                />\n            </div>`;\n\n                grid.innerHTML = template;\n            }\n        },\n        createComputer() {\n            const secondPlayer = gameController.getSecondPlayer();\n            const list = [...SHIP_LIST];\n\n            while (list.length !== 0) {\n                const shipIndex = randomInteger(0, list - 1);\n\n                const { name } = list.splice(shipIndex, 1)[0];\n\n                let ship = secondPlayer.board.getShip(name);\n\n                if (!ship) {\n                    ship = createShip({ name: name });\n                    secondPlayer.board.addShip(ship);\n                }\n\n                let isShipRotate = null;\n                let shipPos = null;\n                let position = null;\n\n                do {\n                    position = this.getComputerPos();\n\n                    isShipRotate = randomInteger(0, 1) === 0 ? true : false;\n\n                    shipPos = ship.setPos(position, isShipRotate);\n                } while (\n                    secondPlayer.board.isOutBounds(shipPos) ||\n                    secondPlayer.board.isOverlapShip(shipPos, name)\n                );\n\n                ship.setRotate(isShipRotate);\n                ship.setCenterPos(position);\n            }\n        },\n        getComputerPos() {\n            return [randomInteger(1, 10), randomInteger(1, 10)];\n        },\n    };\n})();\n\nexport { battlePanel };\n","\"use strict\";\n\nimport \"./css/style.css\";\n\nimport { createShip } from \"./components/handleShip\";\nimport { createGameBoard } from \"./components/handleGameBoard\";\nimport { createPlayer } from \"./components/handlePlayer\";\n\nimport { strategyPanel } from \"./components/handleStrategyPanel\";\nimport { battlePanel } from \"./components/handleBattlePanel\";\nimport { gameController } from \"./components/handleGameController\";\n\nconst createBattleShip = () => {\n    // catch DOM\n    const mainElement = document.querySelector(\"main\");\n\n    // Event\n    mainElement.addEventListener(\"pointerdown\", startGame);\n\n    function startGame(e) {\n        const startBtn = e.target.closest(\".startBtn\");\n\n        if (!startBtn || mainElement.classList.contains(\"loading\")) return;\n\n        mainElement.classList.add(\"loading\");\n\n        const startScreenElement = mainElement.querySelector(\".startScreen\");\n        const gameBoardELement = mainElement.querySelector(\".gameBoard\");\n\n        const firstPlayerName =\n            startScreenElement.querySelector(\".firstPlayerName\")?.textContent ??\n            \"You\";\n        const secondPlayerName =\n            startScreenElement.querySelector(\".secondPlayerName\")\n                ?.textContent ?? \"Computer\";\n\n        const firstPlayer = createPlayer(firstPlayerName, createGameBoard());\n        const secondPlayer = createPlayer(secondPlayerName, createGameBoard());\n\n        gameController.setPlayers(firstPlayer, secondPlayer);\n        battlePanel.setFieldName();\n\n        strategyPanel.resetContainer();\n\n        mainElement.addEventListener(\n            \"transitionend\",\n            function showStrategyPanel(e) {\n                if (e.target !== mainElement) return;\n\n                startScreenElement.hidden = true;\n                gameBoardELement.hidden = false;\n\n                const strategyPanelElement =\n                    gameBoardELement.querySelector(\".strategyPanel\");\n\n                strategyPanelElement.addEventListener(\n                    \"pointerdown\",\n                    activeStrategyPanel\n                );\n\n                mainElement.classList.remove(\"loading\");\n\n                this.removeEventListener(\"transitionend\", showStrategyPanel);\n            }\n        );\n\n        mainElement.removeEventListener(\"pointerdown\", startGame);\n    }\n\n    function activeStrategyPanel(e) {\n        const target = e.target;\n\n        if (target.closest(\".rotateBtn\")) {\n            rotateShip(e);\n            return;\n        }\n\n        strategyPanel.cancelSelectedShip();\n        strategyPanel.disableRotateBtn();\n\n        if (target.closest(\".silhouette\")) {\n            selectShip(e);\n            return;\n        }\n\n        if (target.closest(\".resetBtn\")) {\n            const firstPlayer = gameController.getFirstPlayer();\n\n            firstPlayer.board = createGameBoard();\n\n            strategyPanel.resetContainer();\n            strategyPanel.resetShips();\n            return;\n        }\n\n        if (target.closest(\".startBattleBtn\")) {\n            if (!strategyPanel.isAllShipsSet()) return;\n\n            startBattle();\n\n            this.addEventListener(\n                \"transitionend\",\n                function hiddenStrategyPanel(e) {\n                    if (e.target !== this) return;\n\n                    this.hidden = true;\n\n                    this.removeEventListener(\n                        \"transitionend\",\n                        hiddenStrategyPanel\n                    );\n                }\n            );\n            this.removeEventListener(\"pointerdown\", activeStrategyPanel);\n            this.classList.remove(\"blur\");\n        }\n    }\n\n    function selectShip(e) {\n        const silhouetteElement = e.target.closest(\".silhouette\");\n        const silhouetteCoord = silhouetteElement.getBoundingClientRect();\n        if (\n            silhouetteCoord.left < 0 ||\n            silhouetteCoord.top < 0 ||\n            silhouetteCoord.right > document.documentElement.clientWidth ||\n            silhouetteCoord.bottom > document.documentElement.clientHeight\n        ) {\n            return;\n        }\n\n        const panelElement = mainElement.querySelector(\".panel\");\n        const rotateBtn = panelElement.querySelector(\".rotateBtn\");\n        const shipImage = silhouetteElement.querySelector(\"img\");\n        const message = silhouetteElement.querySelector(\"span\");\n\n        const pointerdownX = e.clientX;\n        const pointerdownY = e.clientY;\n\n        const shiftX = e.clientX - silhouetteCoord.left;\n        const shiftY = e.clientY - silhouetteCoord.top;\n\n        const firstPlayer = gameController.getFirstPlayer();\n        const isShipRotate =\n            shipImage.classList.contains(\"rotateDown\") ?? false;\n\n        const { name } = silhouetteElement.dataset;\n        let ship = firstPlayer.board.getShip(name) ?? false;\n\n        const moveAt = (coordX, coordY) => {\n            silhouetteElement.style.left = coordX + \"px\";\n            silhouetteElement.style.top = coordY + \"px\";\n        };\n        const dragShip = (e) => {\n            const panelCoord = panelElement.getBoundingClientRect();\n            let moved = null;\n\n            if (ship && ship.getPos().length !== 0) {\n                strategyPanel.togglePositionColor(ship.getPos());\n                ship.setPos([]);\n            }\n\n            if (\n                !moved &&\n                (e.clientX !== pointerdownX || e.clientY !== pointerdownY)\n            ) {\n                silhouetteElement.addEventListener(\"pointerup\", placeShip);\n                silhouetteElement.removeEventListener(\"pointerup\", stopDrag);\n                silhouetteElement.style.zIndex = 1000;\n                silhouetteElement.style.position = \"absolute\";\n                silhouetteElement.style.transform = \"none\";\n                panelElement.append(silhouetteElement);\n                moved = true;\n            }\n\n            let leftEdge = e.clientX - shiftX;\n            const rightEdge = panelCoord.right - silhouetteElement.offsetWidth;\n\n            let topEdge = e.clientY - shiftY;\n            const bottomEdge =\n                panelCoord.bottom - silhouetteElement.offsetHeight;\n\n            if (\n                leftEdge < 0 ||\n                leftEdge > rightEdge ||\n                topEdge < panelCoord.top ||\n                topEdge > bottomEdge\n            ) {\n                stopDrag();\n                return;\n            }\n\n            moveAt(leftEdge, topEdge);\n        };\n        const placeShip = (e) => {\n            silhouetteElement.hidden = true;\n\n            const droppableBelow = document\n                .elementFromPoint(e.clientX, e.clientY)\n                .closest(\".container > div\");\n\n            silhouetteElement.hidden = false;\n\n            if (droppableBelow) {\n                const position = [\n                    +droppableBelow.dataset.x,\n                    +droppableBelow.dataset.y,\n                ];\n\n                if (!ship) {\n                    ship = createShip({ name: name });\n                    firstPlayer.board.addShip(ship);\n                }\n\n                const newShipPos = ship.setPos(position, isShipRotate);\n\n                if (\n                    firstPlayer.board.isOutBounds(newShipPos) ||\n                    firstPlayer.board.isOverlapShip(newShipPos, name)\n                ) {\n                    message.textContent = \"cannot be set at this position\";\n                    message.className = \"message\";\n                    ship.setPos([]);\n                } else {\n                    const src = strategyPanel.shipsImage[name.toLowerCase()];\n\n                    if (src) {\n                        shipImage.src = src;\n                    }\n\n                    silhouetteElement.style = \"\";\n                    droppableBelow.append(silhouetteElement);\n                    ship.setRotate(isShipRotate);\n                    ship.setCenterPos(position);\n                    strategyPanel.togglePositionColor(newShipPos);\n                }\n            }\n\n            stopDrag();\n        };\n        const stopDrag = () => {\n            panelElement.removeEventListener(\"pointermove\", dragShip);\n            silhouetteElement.removeEventListener(\"pointerup\", placeShip);\n            silhouetteElement.removeEventListener(\"pointerup\", stopDrag);\n        };\n\n        if (silhouetteElement.closest(\".ships\")) {\n            const clone = silhouetteElement.cloneNode(true);\n            clone.hidden = true;\n            silhouetteElement.insertAdjacentElement(\"afterend\", clone);\n        }\n\n        silhouetteElement.classList.add(\"selected\");\n        rotateBtn.disabled = false;\n\n        if (isShipRotate) {\n            rotateBtn.querySelector(\"img\").className = \"\";\n        } else {\n            rotateBtn.querySelector(\"img\").className = \"rotateDown\";\n        }\n\n        message.textContent = \"\";\n        message.className = \"\";\n\n        silhouetteElement.addEventListener(\n            \"dragstart\",\n            (e) => {\n                e.preventDefault();\n            },\n            { once: true }\n        );\n        silhouetteElement.addEventListener(\"pointerup\", stopDrag);\n        panelElement.addEventListener(\"pointermove\", dragShip);\n    }\n\n    function rotateShip(e) {\n        const selectedShipElement =\n            mainElement.querySelector(\".selected\") ?? false;\n        if (!selectedShipElement) return;\n\n        const shipImage = selectedShipElement.querySelector(\"img\");\n\n        const rotateBtnImage = e.target.querySelector(\"img\") ?? e.target;\n\n        const { name } = selectedShipElement.dataset;\n\n        const firstPlayer = gameController.getFirstPlayer();\n        const ship = firstPlayer.board.getShip(name);\n\n        if (ship && selectedShipElement.closest(\".container\")) {\n            const isShipRotate = shipImage.classList.contains(\"rotateDown\")\n                ? false\n                : true;\n\n            const position = [\n                +selectedShipElement.parentElement.dataset.x,\n                +selectedShipElement.parentElement.dataset.y,\n            ];\n\n            const shipPos = ship.getPos();\n\n            strategyPanel.togglePositionColor(shipPos);\n\n            let newShipPos = ship.setPos(position, isShipRotate);\n\n            if (\n                firstPlayer.board.isOutBounds(newShipPos) ||\n                firstPlayer.board.isOverlapShip(newShipPos, name)\n            ) {\n                const message = selectedShipElement.querySelector(\"span\");\n                message.textContent = \"cannot rotate at this position\";\n                message.className = \"message\";\n                ship.setPos(position, !isShipRotate);\n                strategyPanel.togglePositionColor(shipPos);\n                return;\n            } else {\n                ship.setCenterPos(position);\n                ship.setRotate(isShipRotate);\n                strategyPanel.togglePositionColor(newShipPos);\n            }\n        }\n\n        shipImage.classList.toggle(\"rotateDown\");\n        rotateBtnImage.classList.toggle(\"rotateDown\");\n    }\n\n    function startBattle() {\n        const firstPlayer = gameController.getFirstPlayer();\n        const secondPlayer = gameController.getSecondPlayer();\n\n        gameController.setAttacker(firstPlayer);\n\n        if (gameController.isEndGame()) {\n            gameController.toggleGameState();\n        }\n\n        battlePanel.resetContainer();\n        battlePanel.resetFleetState();\n        battlePanel.resetFieldActiveHover();\n        battlePanel.setShip();\n\n        if (secondPlayer.name === \"Computer\") {\n            battlePanel.createComputer();\n        }\n\n        const battlePanelElement = mainElement.querySelector(\".battlePanel\");\n        battlePanelElement.addEventListener(\"pointerdown\", activeBattlePanel);\n    }\n\n    function activeBattlePanel(e) {\n        const target = e.target;\n\n        if (\n            !gameController.isEndGame() &&\n            target.closest(\".field .container > div\")\n        ) {\n            const position = [+e.target.dataset.x, +e.target.dataset.y];\n\n            const attacker = gameController.getAttacker();\n\n            if (attacker.isDuplicateAttack(position)) return;\n\n            sendAttack(position);\n            return;\n        }\n\n        if (target.closest(\".settingBtn\")) {\n            showAlertPanel();\n        }\n    }\n\n    function sendAttack([x, y]) {\n        const attacker = gameController.getAttacker();\n        const firstPlayer = gameController.getFirstPlayer();\n        const secondPlayer = gameController.getSecondPlayer();\n\n        const battlePanelElement = mainElement.querySelector(\".battlePanel\");\n\n        let attackedPlayer = null;\n\n        if (attacker.name === firstPlayer.name) {\n            attackedPlayer = secondPlayer;\n        } else {\n            attackedPlayer = firstPlayer;\n        }\n\n        const attackerField = battlePanelElement.querySelector(\n            `.field[data-owner=\"${attacker.name}\"]`\n        );\n        const attackedPlayerField = battlePanelElement.querySelector(\n            `.field[data-owner=\"${attackedPlayer.name}\"]`\n        );\n\n        const grid = attackedPlayerField.querySelector(\n            `.container div[data-x=\"${x}\"][data-y=\"${y}\"]`\n        );\n\n        const hitShip = attacker.attack(attackedPlayer, [x, y]);\n\n        if (hitShip) {\n            grid.classList.add(\"hit\");\n\n            if (attacker.name === \"Computer\") {\n                const ship = battlePanelElement.querySelector(\n                    `.ship[data-name=\"${hitShip.name}\"]`\n                );\n\n                const shipState = battlePanelElement.querySelector(\n                    `.fleetState img[data-name=\"${hitShip.name}\"]`\n                );\n\n                ship.addEventListener(\n                    \"animationend\",\n                    () => {\n                        ship.addEventListener(\n                            \"transitionend\",\n                            () => {\n                                ship.remove();\n                            },\n                            {\n                                once: true,\n                            }\n                        );\n                        if (hitShip.isSunk()) {\n                            ship.classList.add(\"destroyed\");\n                        }\n                        ship.classList.remove(\"shake\");\n                    },\n                    { once: true }\n                );\n\n                ship.classList.add(\"shake\");\n\n                shipState.style.setProperty(\n                    \"--damaged-percent\",\n                    `${hitShip.getHealthyPercent()}%`\n                );\n            }\n        } else {\n            grid.classList.add(\"missed\");\n        }\n\n        if (attackedPlayer.board.isAllShipsSunk()) {\n            gameController.toggleGameState();\n\n            attackedPlayerField.classList.remove(\"activeHover\");\n\n            showAlertPanel(attacker.name);\n            return;\n        }\n\n        attacker.addAttackedPos([x, y]);\n\n        attackedPlayerField.classList.remove(\"activeHover\");\n        attackerField.classList.add(\"activeHover\");\n\n        const newAttacker = gameController.setAttacker(attackedPlayer);\n\n        if (newAttacker.name === \"Computer\") {\n            let position = null;\n\n            do {\n                position = battlePanel.getComputerPos();\n            } while (newAttacker.isDuplicateAttack(position));\n\n            sendAttack(position);\n        }\n    }\n\n    function showAlertPanel(winner = null) {\n        const alertPanel = mainElement.querySelector(\".alertPanel\");\n\n        let alert = null;\n\n        alertPanel.addEventListener(\n            \"pointerdown\",\n            function activeAlertPanel(e) {\n                const target = e.target;\n\n                if (target.closest(\".returnBtn\")) {\n                    target.addEventListener(\n                        \"animationend\",\n                        function closeAlertPanel() {\n                            target.classList.remove(\"clickEffect\");\n                            alert.classList.remove(\"show\");\n                            alertPanel.classList.remove(\"blur\");\n\n                            this.removeEventListener(\n                                \"animationend\",\n                                closeAlertPanel\n                            );\n                        }\n                    );\n\n                    target.classList.add(\"clickEffect\");\n                    this.removeEventListener(\"pointerdown\", activeAlertPanel);\n                    return;\n                }\n                if (target.closest(\".restartBtn\")) {\n                    const strategyPanelElement =\n                        mainElement.querySelector(\".strategyPanel\");\n                    const firstPlayer = gameController.getFirstPlayer();\n                    const secondPlayer = gameController.getSecondPlayer();\n\n                    target.addEventListener(\n                        \"animationend\",\n                        function restartGame() {\n                            strategyPanelElement.addEventListener(\n                                \"pointerdown\",\n                                activeStrategyPanel\n                            );\n\n                            strategyPanelElement.classList.add(\"blur\");\n\n                            target.classList.remove(\"clickEffect\");\n                            alert.classList.remove(\"show\");\n                            alertPanel.classList.remove(\"blur\");\n\n                            battlePanel.resetContainer();\n                            battlePanel.resetFleetState();\n\n                            this.removeEventListener(\n                                \"animationend\",\n                                restartGame\n                            );\n                        }\n                    );\n\n                    target.classList.add(\"clickEffect\");\n\n                    strategyPanel.resetContainer();\n                    strategyPanel.resetShips();\n\n                    const newFirstPlayer = createPlayer(\n                        firstPlayer.name,\n                        createGameBoard()\n                    );\n                    const newSecondPlayer = createPlayer(\n                        secondPlayer.name,\n                        createGameBoard()\n                    );\n\n                    gameController.setPlayers(newFirstPlayer, newSecondPlayer);\n\n                    strategyPanelElement.hidden = false;\n\n                    this.removeEventListener(\"pointerdown\", activeAlertPanel);\n                    return;\n                }\n                if (!winner && target.closest(\".quitBtn\")) {\n                    target.addEventListener(\n                        \"animationend\",\n                        function quitGame() {\n                            mainElement.addEventListener(\n                                \"transitionend\",\n                                function showMenu(e) {\n                                    if (e.target !== mainElement) return;\n\n                                    const startScreenElement =\n                                        mainElement.querySelector(\n                                            \".startScreen\"\n                                        );\n                                    const gameBoardElement =\n                                        mainElement.querySelector(\".gameBoard\");\n\n                                    const strategyPanelElement =\n                                        gameBoardElement.querySelector(\n                                            \".strategyPanel\"\n                                        );\n\n                                    startScreenElement.hidden = false;\n                                    gameBoardElement.hidden = true;\n\n                                    mainElement.addEventListener(\n                                        \"pointerdown\",\n                                        startGame\n                                    );\n\n                                    mainElement.classList.remove(\"loading\");\n\n                                    strategyPanelElement.classList.add(\"blur\");\n                                    strategyPanelElement.hidden = false;\n\n                                    battlePanel.resetContainer();\n                                    battlePanel.resetFleetState();\n\n                                    strategyPanel.resetShips();\n\n                                    target.classList.remove(\"clickEffect\");\n                                    alert.classList.remove(\"show\");\n                                    alertPanel.classList.remove(\"blur\");\n\n                                    this.removeEventListener(\n                                        \"transitionend\",\n                                        showMenu\n                                    );\n                                }\n                            );\n                            mainElement.classList.add(\"loading\");\n                            this.removeEventListener(\"animationend\", quitGame);\n                        }\n                    );\n\n                    target.classList.add(\"clickEffect\");\n\n                    this.removeEventListener(\"pointerdown\", activeAlertPanel);\n                }\n            }\n        );\n\n        if (winner) {\n            alert = alertPanel.querySelector(\".result\");\n            alert.querySelector(\n                \".winner\"\n            ).textContent = `${winner.toUpperCase()} WIN`;\n        } else {\n            alert = alertPanel.querySelector(\".alert\");\n        }\n\n        alert.classList.add(\"show\");\n        alertPanel.classList.add(\"blur\");\n    }\n\n    function preloadImage() {\n        const shipList = [\"carrier\", \"battleship\", \"patrol boat\"];\n        for (let ship of shipList) {\n            const img = document.createElement(\"img\");\n\n            img.src = strategyPanel.shipsImage[ship];\n            img.style.cssText = \"opacity: 0\";\n            mainElement.append(img);\n            img.remove();\n        }\n    }\n    preloadImage();\n};\n\ncreateBattleShip();\n","var map = {\n\t\"./battleship.png\": 225,\n\t\"./carrier.png\": 343,\n\t\"./destroyer.png\": 772,\n\t\"./patrol boat.png\": 423,\n\t\"./patrol boat_state.png\": 679,\n\t\"./submarine.png\": 788\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 314;","var map = {\n\t\"./battleship_panel.png\": 163,\n\t\"./carrier_panel.png\": 24,\n\t\"./patrol boat_panel.png\": 565\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 382;"],"names":["SHIP_LIST","name","length","createShip","ship","find","item","Object","assign","create","setProto","hits","rotate","pos","centerPos","createShipAllPos","isShipRotate","x","y","shipPos","push","increaseHit","isSunk","setPos","position","getPos","getHealthyPercent","setRotate","value","getRotate","setCenterPos","getCenterPos","createGameBoard","size","ships","getAdjacentPos","adjacentPos","posX","map","posY","isRotate","every","maxPosY","minPosY","Math","max","min","maxPosX","minPosX","addShip","getShip","getAllShips","isOutBounds","positions","isOverlapShip","allShipPos","result","some","x2","y2","receiveAttack","attackedPos","shipPosX","shipPosY","isAllShipsSunk","createPlayer","board","attack","target","addAttackedPos","isDuplicateAttack","gameController","players","firstPlayer","secondPlayer","attacker","endGame","getFirstPlayer","getSecondPlayer","setFirstPlayerBoard","newPlayer","setSecondPlayer","setPlayers","setAttacker","player","getAttacker","toggleGameState","isEndGame","common","createGrid","column","row","container","document","createElement","className","i","div","dataset","append","load","resolve","obj","key","keys","match","url","strategyPanel","strategyPanelElement","querySelector","shipsSource","require","context","shipsImage","resetContainer","replaceWith","resetShips","silhouettes","Array","from","querySelectorAll","el","closest","message","textContent","hidden","remove","togglePositionColor","grid","classList","toggle","cancelSelectedShip","hasSelectedShip","disableRotateBtn","rotateBtn","disabled","isAllShipsSet","allShipSet","battlePanel","battlePanelElement","shipsImg","randomInteger","floor","random","fields","resetFleetState","fleetStateImages","style","setFieldName","field","owner","resetFieldActiveHover","add","setShip","src","toLowerCase","template","innerHTML","createComputer","list","shipIndex","splice","getComputerPos","createBattleShip","mainElement","addEventListener","startGame","e","startBtn","contains","startScreenElement","gameBoardELement","firstPlayerName","secondPlayerName","showStrategyPanel","activeStrategyPanel","removeEventListener","rotateShip","selectShip","startBattle","hiddenStrategyPanel","silhouetteElement","silhouetteCoord","getBoundingClientRect","left","top","right","documentElement","clientWidth","bottom","clientHeight","panelElement","shipImage","pointerdownX","clientX","pointerdownY","clientY","shiftX","shiftY","moveAt","coordX","coordY","dragShip","panelCoord","moved","placeShip","stopDrag","zIndex","transform","leftEdge","rightEdge","offsetWidth","topEdge","bottomEdge","offsetHeight","droppableBelow","elementFromPoint","newShipPos","clone","cloneNode","insertAdjacentElement","preventDefault","once","selectedShipElement","rotateBtnImage","parentElement","activeBattlePanel","sendAttack","showAlertPanel","attackedPlayer","attackerField","attackedPlayerField","hitShip","shipState","setProperty","newAttacker","winner","alertPanel","alert","activeAlertPanel","closeAlertPanel","restartGame","newFirstPlayer","newSecondPlayer","quitGame","showMenu","gameBoardElement","toUpperCase","preloadImage","shipList","img","cssText"],"sourceRoot":""}